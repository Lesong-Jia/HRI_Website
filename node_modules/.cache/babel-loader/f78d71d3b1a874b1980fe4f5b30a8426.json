{"remainingRequest":"/Users/jialesong/Desktop/HRI_Website/node_modules/babel-loader/lib/index.js!/Users/jialesong/Desktop/HRI_Website/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jialesong/Desktop/HRI_Website/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jialesong/Desktop/HRI_Website/src/views/index/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/jialesong/Desktop/HRI_Website/src/views/index/index.vue","mtime":1706923579000},{"path":"/Users/jialesong/Desktop/HRI_Website/babel.config.js","mtime":1706923579000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/cache-loader/dist/cjs.js","mtime":1706926219000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/babel-loader/lib/index.js","mtime":1706926220000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/cache-loader/dist/cjs.js","mtime":1706926219000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/vue-loader/lib/index.js","mtime":1706926220000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgY29uc2VudCBmcm9tICIuL2NvbXBvbmVudHMvY29uc2VudC52dWUiOwppbXBvcnQgaW5zdHJ1Y3Rpb24gZnJvbSAiLi9jb21wb25lbnRzL2luc3RydWN0aW9uLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBpbnN0cnVjdGlvbiwKICAgIGNvbnNlbnQKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmU6IDEsCiAgICAgIGZvcmJpZGRlbjogZmFsc2UKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgYWN0aXZlKHZhbCkgewogICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbImdhbWVTdGVwIiwgImFsbFF1ZXN0aW9uRm9ybSIsICJpc1Bhc3MiXSkKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNldElzUGFzcygpOwogIH0sCiAgbWV0aG9kczogewogICAgc2V0SXNQYXNzKCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoIlNFVF9JU19QQVNTIiwgZmFsc2UpOwogICAgfSwKICAgIGdvdG9OZXh0KCkgewogICAgICBpZiAodGhpcy5hY3RpdmUgPT09IDEpIHsKICAgICAgICB0aGlzLmFjdGl2ZSA9IDI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJTRVRfQUxMX1FVRVNUSU9OX0ZPUk0iLCB7CiAgICAgICAgICBzdGFydFRpbWU6IG1vbWVudCgpLmZvcm1hdCgiWVlZWS1NTS1ERCBISDptbTpzcyIpCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9zdGFydFF1ZXN0aW9ubmFpcmUiKTsKICAgICAgfQogICAgfSwKICAgIC8vIHVuaXR55Y+R6YCB5LqL5Lu25omn6KGMCiAgICB1bml0eVdhdGNoKG9iaikgewogICAgICBjb25zb2xlLmxvZyhvYmouZGV0YWlsKTsgLy8g6L+Z6YeM5YaZ6ZyA6KaB55qE5ZCO57utanPpgLvovpEKICAgIH0sCiAgICB1bml0eVNlbmRNZXNzYWdlKCkgewogICAgICAvKiog5Y+C5pWw77yaCiAgICAgICAqIDEuIHVuaXR55a6a5LmJ55qE5a+56LGh77yI5q+P5LiqdW5pdHnlt6XnqIvluIjllpzmrKLnmoTlkI3lrZfkuI3kuIDmoLfvvIkKICAgICAgICogMi4g6LCD55SodW5pdHnnmoTmlrnms5XlkI3lrZcKICAgICAgICogMy4gdW5pdHnmjqXmlLbnmoTlj4LmlbAKICAgICAgICovCiAgICAgIHRoaXMuJHJlZnMuaWZyYW1lLmNvbnRlbnRXaW5kb3cudW5pdHlJbnN0YW5jZS5TZW5kTWVzc2FnZSgiV2ViSW52b2tlciIsICJVbml0eV9JbnNlcnROYXZpUG9pbnQiLCAi6L+Z5piv5Y+C5pWwIik7CiAgICB9CiAgfSwKICBkZWFjdGl2YXRlZCgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJVSUNsaWNrIiwgdGhpcy51bml0eVdhdGNoKTsKICB9Cn07"},{"version":3,"names":["moment","mapGetters","consent","instruction","components","data","active","forbidden","watch","val","window","scrollTo","computed","mounted","setIsPass","methods","$store","commit","gotoNext","startTime","format","$router","push","unityWatch","obj","console","log","detail","unitySendMessage","$refs","iframe","contentWindow","unityInstance","SendMessage","deactivated","removeEventListener"],"sources":["src/views/index/index.vue"],"sourcesContent":["<template>\n  <div class=\"wrapper question\" v-if=\"!this.forbidden\">\n    <!-- <p>游戏嵌入界面</p> -->\n    <div class=\"process-box\" v-if=\"active === 1\"><instruction /></div>\n    <div class=\"process-box\" v-if=\"active === 2\"><consent /></div>\n    <div class=\"input-wrapper\">\n      <a-button type=\"primary\" shape=\"round\" @click=\"gotoNext\"\n        >{{ active === 2 ? \"Confirm\" : \"Proceed\" }}\n        <a-icon\n          v-if=\"active === 1\"\n          type=\"arrow-right\"\n          style=\"color: #fff !important\"\n        />\n      </a-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport moment from \"moment\";\nimport { mapGetters } from \"vuex\";\nimport consent from \"./components/consent.vue\";\nimport instruction from \"./components/instruction.vue\";\nexport default {\n  components: { instruction, consent },\n  data() {\n    return {\n      active: 1,\n      forbidden: false,\n    };\n  },\n  watch: {\n    active(val) {\n      window.scrollTo(0, 0);\n    },\n  },\n  computed: {\n    ...mapGetters([\"gameStep\", \"allQuestionForm\", \"isPass\"]),\n  },\n  mounted() {\n    this.setIsPass();\n  },\n  methods: {\n    setIsPass() {\n      this.$store.commit(\"SET_IS_PASS\", false);\n    },\n    gotoNext() {\n      if (this.active === 1) {\n        this.active = 2;\n      } else {\n        this.$store.commit(\"SET_ALL_QUESTION_FORM\", {\n          startTime: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\n        });\n        this.$router.push(\"/startQuestionnaire\");\n      }\n    },\n    // unity发送事件执行\n    unityWatch(obj) {\n      console.log(obj.detail); // 这里写需要的后续js逻辑\n    },\n    unitySendMessage() {\n      /** 参数：\n       * 1. unity定义的对象（每个unity工程师喜欢的名字不一样）\n       * 2. 调用unity的方法名字\n       * 3. unity接收的参数\n       */\n      this.$refs.iframe.contentWindow.unityInstance.SendMessage(\n        \"WebInvoker\",\n        \"Unity_InsertNaviPoint\",\n        \"这是参数\"\n      );\n    },\n  },\n  deactivated() {\n    window.removeEventListener(\"UIClick\", this.unityWatch);\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.wrapper {\n  width: 100%;\n  height: 100%;\n  .process-box {\n    width: 100%;\n    // height: 85%;\n    // border: 1px dashed #efefef;\n    display: flex;\n    justify-content: center;\n    // overflow: auto;\n    padding: 10px;\n  }\n}\n</style>"],"mappings":";AAmBA,OAAAA,MAAA;AACA,SAAAC,UAAA;AACA,OAAAC,OAAA;AACA,OAAAC,WAAA;AACA;EACAC,UAAA;IAAAD,WAAA;IAAAD;EAAA;EACAG,KAAA;IACA;MACAC,MAAA;MACAC,SAAA;IACA;EACA;EACAC,KAAA;IACAF,OAAAG,GAAA;MACAC,MAAA,CAAAC,QAAA;IACA;EACA;EACAC,QAAA;IACA,GAAAX,UAAA;EACA;EACAY,QAAA;IACA,KAAAC,SAAA;EACA;EACAC,OAAA;IACAD,UAAA;MACA,KAAAE,MAAA,CAAAC,MAAA;IACA;IACAC,SAAA;MACA,SAAAZ,MAAA;QACA,KAAAA,MAAA;MACA;QACA,KAAAU,MAAA,CAAAC,MAAA;UACAE,SAAA,EAAAnB,MAAA,GAAAoB,MAAA;QACA;QACA,KAAAC,OAAA,CAAAC,IAAA;MACA;IACA;IACA;IACAC,WAAAC,GAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA,CAAAG,MAAA;IACA;IACAC,iBAAA;MACA;AACA;AACA;AACA;AACA;MACA,KAAAC,KAAA,CAAAC,MAAA,CAAAC,aAAA,CAAAC,aAAA,CAAAC,WAAA,CACA,cACA,yBACA,MACA;IACA;EACA;EACAC,YAAA;IACAxB,MAAA,CAAAyB,mBAAA,iBAAAZ,UAAA;EACA;AACA"}]}