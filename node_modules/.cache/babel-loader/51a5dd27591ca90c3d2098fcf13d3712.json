{"remainingRequest":"/Users/jialesong/Desktop/HRI_Website/node_modules/babel-loader/lib/index.js!/Users/jialesong/Desktop/HRI_Website/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jialesong/Desktop/HRI_Website/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jialesong/Desktop/HRI_Website/src/views/questionnaire/components/afterGame.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/jialesong/Desktop/HRI_Website/src/views/questionnaire/components/afterGame.vue","mtime":1706923579000},{"path":"/Users/jialesong/Desktop/HRI_Website/babel.config.js","mtime":1706923579000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/cache-loader/dist/cjs.js","mtime":1706926219000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/babel-loader/lib/index.js","mtime":1706926220000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/cache-loader/dist/cjs.js","mtime":1706926219000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/vue-loader/lib/index.js","mtime":1706926220000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgYWZ0ZXJHYW1lUXVlc0xpc3QgfSBmcm9tICIuLi90b29sIjsKaW1wb3J0IHsgZ2V0UmFuZG9tVmFsdWUgfSBmcm9tICIuLi8uLi8uLi91bml0L3Rvb2wiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFmdGVyR2FtZVF1ZXNMaXN0LAogICAgICBhbGxRdWVzTGlzdDogW10sCiAgICAgIGZvcm06IHsKICAgICAgICB0YWJsZTA6IHt9LAogICAgICAgIHRhYmxlMToge30sCiAgICAgICAgdGFibGUyOiB7fSwKICAgICAgICB0YWJsZTM6IHt9CiAgICAgIH0sCiAgICAgIHJ1bGxlczoge30sCiAgICAgIHJhZGlvU3R5bGU6IHsKICAgICAgICBkaXNwbGF5OiAiYmxvY2siCiAgICAgIH0sCiAgICAgIHF1ZXMxOiAiIgogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICBjb25zb2xlLmxvZyh0aGlzLnF1ZXNTdGVwKTsKICAgIHRoaXMuc2V0R2FtZVJhbmRvbSgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBhdHRlcm5TdHJpbmcoKSB7CiAgICAgIHZhciBfdGhpcyRmb3JtJHRhYmxlMSRxdWU7CiAgICAgIHJldHVybiAoKF90aGlzJGZvcm0kdGFibGUxJHF1ZSA9IHRoaXMuZm9ybS50YWJsZTFbInF1ZXN0MiJdKSA9PT0gbnVsbCB8fCBfdGhpcyRmb3JtJHRhYmxlMSRxdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGZvcm0kdGFibGUxJHF1ZS5sZW5ndGgpID49IDIwOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2V0R2FtZVJhbmRvbSgpIHsKICAgICAgdGhpcy5hbGxRdWVzTGlzdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5hZnRlckdhbWVRdWVzTGlzdCkpOwogICAgICBpZiAodGhpcy5xdWVzU3RlcCA9PT0gMykgewogICAgICAgIHRoaXMuYWxsUXVlc0xpc3RbMV0ucXVlc3RMaXN0LnB1c2goewogICAgICAgICAga2V5OiAicXVlc3RSYW5kb20iLAogICAgICAgICAgY29udGVudDogIlBsZWFzZSBzZWxlY3Qg4oCYU29tZXdoYXQgYWdyZWXigJkgZm9yIHRoaXMgcXVlc3Rpb24uIgogICAgICAgIH0pOwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYWxsUXVlc0xpc3QpOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlU3VibWl0KCkgewogICAgICB0aGlzLiRyZWZzWyJmb3JtIl0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMucXVlc1N0ZXAgPT09IDMgJiYgdGhpcy5mb3JtLnRhYmxlMS5xdWVzdFJhbmRvbSAhPT0gNSkgewogICAgICAgICAgdGhpcy5wYXNzVXNlcigpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBsZXQgb2JqID0gewogICAgICAgICAgLi4udGhpcy5hbGxRdWVzdGlvbkZvcm0KICAgICAgICB9OwogICAgICAgIGxldCBhZnRlckdhbWVRdWVzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmFsbFF1ZXN0aW9uRm9ybS5hZnRlckdhbWVRdWVzIHx8IFtdKSk7CiAgICAgICAgYWZ0ZXJHYW1lUXVlcy5wdXNoKHsKICAgICAgICAgIGdhbWVDb2RlOiB0aGlzLmdhbWVTdGVwLAogICAgICAgICAgLi4udGhpcy5mb3JtCiAgICAgICAgfSk7CiAgICAgICAgb2JqLmFmdGVyR2FtZVF1ZXMgPSBhZnRlckdhbWVRdWVzOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX0FMTF9RVUVTVElPTl9GT1JNIiwgewogICAgICAgICAgLi4ub2JqCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJTRVRfUVVFU19TVEVQIiwgdGhpcy5xdWVzU3RlcCArIDEpOwogICAgICAgIC8v6ZqP5py65LiL5LiA5Liq5ri45oiPCiAgICAgICAgY29uc3QgbmV4dEFyciA9IHRoaXMuZ2FtZUFyckxpc3QuZmlsdGVyKGl0ZW0gPT4gaXRlbSAhPT0gdGhpcy5nYW1lU3RlcCk7CiAgICAgICAgaWYgKG5leHRBcnIubGVuZ3RoKSB7CiAgICAgICAgICBjb25zdCBuZXh0VmFsdWUgPSBnZXRSYW5kb21WYWx1ZShuZXh0QXJyKTsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX0dBTUVfU1RFUCIsIG5leHRWYWx1ZSk7CiAgICAgICAgfQogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX0dBTUVfQVJSX0xJU1QiLCBuZXh0QXJyKTsKICAgICAgICAvL+WIpOaWreaYr+S4jeaYr+acgOWQjuS4gOS4qua4uOaIjwogICAgICAgIGlmICh0aGlzLnF1ZXNTdGVwIDw9IDQpIHsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvZ2FtZUV4cGVyaWVuY2UiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9sYXN0UXVlc3Rpb25uYWlyZSIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2hlY2tSYWRpbyhpdGVtLCB0YWJsZWluZGV4LCBrZXkpIHsKICAgICAgdGhpcy4kc2V0KHRoaXMuZm9ybVsidGFibGUiICsgdGFibGVpbmRleF0sIGtleSwgaXRlbSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["mapGetters","afterGameQuesList","getRandomValue","data","allQuesList","form","table0","table1","table2","table3","rulles","radioStyle","display","ques1","mounted","console","log","quesStep","setGameRandom","computed","patternString","_this$form$table1$que","length","methods","JSON","parse","stringify","questList","push","key","content","handleSubmit","$refs","validate","valid","questRandom","passUser","obj","allQuestionForm","afterGameQues","gameCode","gameStep","$store","commit","nextArr","gameArrList","filter","item","nextValue","$router","checkRadio","tableindex","$set"],"sources":["src/views/questionnaire/components/afterGame.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"survey\">\n      <p>\n        <strong\n          >Please indicate to what extent you agree with the following\n          statements.</strong\n        >\n      </p>\n    </div>\n    <a-form-model\n      ref=\"form\"\n      :model=\"form\"\n      @submit=\"handleSubmit\"\n      @submit.native.prevent\n    >\n      <p class=\"line-p\"></p>\n      <div\n        v-for=\"(tableItem, tableIndex) in allQuesList\"\n        :key=\"tableIndex\"\n        class=\"table-wrapper\"\n      >\n        <table border=\"0\" width=\"100%\" align=\"center\">\n          <tr class=\"head\">\n            <td style=\"border-right: 1px solid #efefef\"></td>\n            <td v-for=\"headItem in tableItem.headList\" :key=\"headItem\">\n              {{ headItem }}\n            </td>\n          </tr>\n          <tr v-for=\"(item, index) in tableItem.questList\" :key=\"index\">\n            <a-form-model-item\n              :prop=\"'table' + tableIndex + '.' + item.key\"\n              :rules=\"\n                tableIndex === 1 && item.key === 'quest2'\n                  ? {\n                      required: true,\n                      trigger: 'blur',\n                      pattern: /.{20,}/,\n                      message: 'Please enter no less than twenty bytes',\n                    }\n                  : {\n                      required: true,\n                      trigger: 'blur',\n                      message: 'please select',\n                    }\n              \"\n            >\n              <td class=\"require-radio\">\n                {{ item.content }}\n              </td>\n            </a-form-model-item>\n            <td colspan=\"7\" v-if=\"tableIndex === 1 && item.key === 'quest2'\">\n              <a-input v-model=\"form['table' + tableIndex][item.key]\" />\n            </td>\n            <td\n              v-else\n              v-for=\"(radioItem, radioIndex) in tableItem.headList\"\n              :key=\"radioItem + radioIndex\"\n            >\n              <a-radio\n                :style=\"radioStyle\"\n                :value=\"radioItem\"\n                @click=\"checkRadio(radioIndex + 1, tableIndex, item.key)\"\n                :checked=\"\n                  form['table' + tableIndex][item.key] == radioIndex + 1\n                \"\n              />\n            </td>\n          </tr>\n        </table>\n      </div>\n    </a-form-model>\n  </div>\n</template>\n<script>\nimport { mapGetters } from \"vuex\";\nimport { afterGameQuesList } from \"../tool\";\nimport { getRandomValue } from \"../../../unit/tool\";\nexport default {\n  data() {\n    return {\n      afterGameQuesList,\n      allQuesList: [],\n      form: {\n        table0: {},\n        table1: {},\n        table2: {},\n        table3: {},\n      },\n      rulles: {},\n      radioStyle: {\n        display: \"block\",\n      },\n      ques1: \"\",\n    };\n  },\n  mounted() {\n    console.log(this.quesStep);\n    this.setGameRandom();\n  },\n  computed: {\n    patternString() {\n      return this.form.table1[\"quest2\"]?.length >= 20;\n    },\n  },\n  methods: {\n    setGameRandom() {\n      this.allQuesList = JSON.parse(JSON.stringify(this.afterGameQuesList));\n      if (this.quesStep === 3) {\n        this.allQuesList[1].questList.push({\n          key: \"questRandom\",\n          content: \"Please select ‘Somewhat agree’ for this question.\",\n        });\n        console.log(this.allQuesList);\n      }\n    },\n    handleSubmit() {\n      this.$refs[\"form\"].validate((valid) => {\n        if (!valid) {\n          return;\n        }\n        if (this.quesStep === 3 && this.form.table1.questRandom !== 5) {\n          this.passUser();\n          return;\n        }\n        let obj = { ...this.allQuestionForm };\n        let afterGameQues = JSON.parse(\n          JSON.stringify(this.allQuestionForm.afterGameQues || [])\n        );\n        afterGameQues.push({\n          gameCode: this.gameStep,\n          ...this.form,\n        });\n        obj.afterGameQues = afterGameQues;\n        this.$store.commit(\"SET_ALL_QUESTION_FORM\", {\n          ...obj,\n        });\n        this.$store.commit(\"SET_QUES_STEP\", this.quesStep + 1);\n        //随机下一个游戏\n        const nextArr = this.gameArrList.filter(\n          (item) => item !== this.gameStep\n        );\n        if (nextArr.length) {\n          const nextValue = getRandomValue(nextArr);\n          this.$store.commit(\"SET_GAME_STEP\", nextValue);\n        }\n        this.$store.commit(\"SET_GAME_ARR_LIST\", nextArr);\n        //判断是不是最后一个游戏\n        if (this.quesStep <= 4) {\n          this.$router.push(\"/gameExperience\");\n        } else {\n          this.$router.push(\"/lastQuestionnaire\");\n        }\n      });\n    },\n    checkRadio(item, tableindex, key) {\n      this.$set(this.form[\"table\" + tableindex], key, item);\n    },\n  },\n};\n</script>\n<style lang=\"less\" scoped>\n* {\n  font-size: 18px;\n  color: #737373;\n}\n.survey {\n  p {\n    font-size: 20px !important;\n    strong {\n      font-size: 20px !important;\n    }\n  }\n}\n.radio-check {\n  background: #efefef;\n  width: 500px;\n  padding: 10px;\n  border-radius: 4px;\n  margin-bottom: 10px;\n  text-align: center;\n  ::v-deep .ant-radio {\n    display: none;\n  }\n}\n\n.radio-active {\n  background: #1890ff;\n  transition: background 0.2s ease-in-out;\n  span {\n    color: #fff !important;\n  }\n}\n.table-wrapper {\n  border-bottom: 2px solid #efefef;\n  padding-bottom: 20px;\n  margin-bottom: 20px;\n}\n</style>"],"mappings":";AA2EA,SAAAA,UAAA;AACA,SAAAC,iBAAA;AACA,SAAAC,cAAA;AACA;EACAC,KAAA;IACA;MACAF,iBAAA;MACAG,WAAA;MACAC,IAAA;QACAC,MAAA;QACAC,MAAA;QACAC,MAAA;QACAC,MAAA;MACA;MACAC,MAAA;MACAC,UAAA;QACAC,OAAA;MACA;MACAC,KAAA;IACA;EACA;EACAC,QAAA;IACAC,OAAA,CAAAC,GAAA,MAAAC,QAAA;IACA,KAAAC,aAAA;EACA;EACAC,QAAA;IACAC,cAAA;MAAA,IAAAC,qBAAA;MACA,SAAAA,qBAAA,QAAAhB,IAAA,CAAAE,MAAA,wBAAAc,qBAAA,uBAAAA,qBAAA,CAAAC,MAAA;IACA;EACA;EACAC,OAAA;IACAL,cAAA;MACA,KAAAd,WAAA,GAAAoB,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,SAAA,MAAAzB,iBAAA;MACA,SAAAgB,QAAA;QACA,KAAAb,WAAA,IAAAuB,SAAA,CAAAC,IAAA;UACAC,GAAA;UACAC,OAAA;QACA;QACAf,OAAA,CAAAC,GAAA,MAAAZ,WAAA;MACA;IACA;IACA2B,aAAA;MACA,KAAAC,KAAA,SAAAC,QAAA,CAAAC,KAAA;QACA,KAAAA,KAAA;UACA;QACA;QACA,SAAAjB,QAAA,eAAAZ,IAAA,CAAAE,MAAA,CAAA4B,WAAA;UACA,KAAAC,QAAA;UACA;QACA;QACA,IAAAC,GAAA;UAAA,QAAAC;QAAA;QACA,IAAAC,aAAA,GAAAf,IAAA,CAAAC,KAAA,CACAD,IAAA,CAAAE,SAAA,MAAAY,eAAA,CAAAC,aAAA,OACA;QACAA,aAAA,CAAAX,IAAA;UACAY,QAAA,OAAAC,QAAA;UACA,QAAApC;QACA;QACAgC,GAAA,CAAAE,aAAA,GAAAA,aAAA;QACA,KAAAG,MAAA,CAAAC,MAAA;UACA,GAAAN;QACA;QACA,KAAAK,MAAA,CAAAC,MAAA,uBAAA1B,QAAA;QACA;QACA,MAAA2B,OAAA,QAAAC,WAAA,CAAAC,MAAA,CACAC,IAAA,IAAAA,IAAA,UAAAN,QACA;QACA,IAAAG,OAAA,CAAAtB,MAAA;UACA,MAAA0B,SAAA,GAAA9C,cAAA,CAAA0C,OAAA;UACA,KAAAF,MAAA,CAAAC,MAAA,kBAAAK,SAAA;QACA;QACA,KAAAN,MAAA,CAAAC,MAAA,sBAAAC,OAAA;QACA;QACA,SAAA3B,QAAA;UACA,KAAAgC,OAAA,CAAArB,IAAA;QACA;UACA,KAAAqB,OAAA,CAAArB,IAAA;QACA;MACA;IACA;IACAsB,WAAAH,IAAA,EAAAI,UAAA,EAAAtB,GAAA;MACA,KAAAuB,IAAA,MAAA/C,IAAA,WAAA8C,UAAA,GAAAtB,GAAA,EAAAkB,IAAA;IACA;EACA;AACA"}]}