{"remainingRequest":"/Users/jialesong/Desktop/HRI_Website/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jialesong/Desktop/HRI_Website/src/views/startQuestionnaire/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/jialesong/Desktop/HRI_Website/src/views/startQuestionnaire/index.vue","mtime":1706923579000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/cache-loader/dist/cjs.js","mtime":1706926219000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/babel-loader/lib/index.js","mtime":1706926220000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/cache-loader/dist/cjs.js","mtime":1706926219000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/vue-loader/lib/index.js","mtime":1706926220000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBwcmV2ZW50QmFjayBmcm9tICJ2dWUtcHJldmVudC1icm93c2VyLWJhY2siOyAvL+e7hOS7tuWGheWNleeLrOW8leWFpQppbXBvcnQgeyBhbGxRdWVzdExpc3QgfSBmcm9tICIuL3Rvb2wiOwppbXBvcnQgeyBnZXRSYW5kb21WYWx1ZSwgYWxsR2FtZUFyciB9IGZyb20gIi4uLy4uL3VuaXQvdG9vbCI7CmltcG9ydCBhcGkgZnJvbSAiQC9hcGkvaW5kZXguanMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW3ByZXZlbnRCYWNrXSwgLy/ms6jlhaUgIOmYu+atoui/lOWbnuS4iuS4gOmhtQogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBnYW1lR3JvdXBUeXBlOiAiIiwKICAgICAgYWxsUXVlc3RMaXN0LAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZm9ybTogewogICAgICAgIHRhYmxlMDoge30sCiAgICAgICAgdGFibGUxOiB7fSwKICAgICAgICB0YWJsZTI6IHt9LAogICAgICB9LAogICAgICByYWRpb1N0eWxlOiB7CiAgICAgICAgZGlzcGxheTogImJsb2NrIiwKICAgICAgICBoZWlnaHQ6ICIzMHB4IiwKICAgICAgICBsaW5lSGVpZ2h0OiAiMzBweCIsCiAgICAgIH0sCiAgICAgIGxhYmVsQ29sOiB7CiAgICAgICAgeHM6IHsgc3BhbjogMjQgfSwKICAgICAgICBzbTogeyBzcGFuOiAxIH0sCiAgICAgIH0sCiAgICAgIHdyYXBwZXJDb2w6IHsKICAgICAgICB4czogeyBzcGFuOiAxIH0sCiAgICAgICAgc206IHsgc3BhbjogMjQgfSwKICAgICAgfSwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgd2luZG93LnNjcm9sbFRvKDAsIDApOwogICAgdGhpcy5zZXRHYW1lR3JvdXBUeXBlKCk7CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy50b0luZGV4KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRHYW1lR3JvdXBUeXBlKCkgewogICAgICBhcGkuZ2V0SW5kZXgoKS50aGVuKChyZXMpID0+IHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJTRVRfR0FNRV9HUk9VUF9UWVBFIiwgcmVzLmRhdGEpOwogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KAogICAgICAgICAgICAiU0VUX0dBTUVfQVJSX0xJU1QiLAogICAgICAgICAgICBhbGxHYW1lQXJyW3RoaXMuZ2FtZUdyb3VwVHlwZV0KICAgICAgICAgICk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgaWYgKHRoaXMuZm9ybS50YWJsZTEucXVlc3QxMSAhPT0gNSkgewogICAgICAgICAgdGhpcy5wYXNzVXNlcigpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAvLyDojrflj5bmlbDnu4TkuK3kuIDkuKrpmo/mnLrlgLwKICAgICAgICBjb25zdCBzdGFydFZhbHVlID0gZ2V0UmFuZG9tVmFsdWUodGhpcy5nYW1lQXJyTGlzdCk7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5nYW1lQXJyTGlzdCk7CiAgICAgICAgY29uc29sZS5sb2coc3RhcnRWYWx1ZSk7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5hbGxRdWVzdGlvbkZvcm0pOwogICAgICAgIC8vIOS/neWtmOesrOS4gOasoeeahOmXruWNtwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX0FMTF9RVUVTVElPTl9GT1JNIiwgewogICAgICAgICAgLi4udGhpcy5hbGxRdWVzdGlvbkZvcm0sCiAgICAgICAgICBzdGFydFF1ZXN0aW9ubmFpcmU6IHsgLi4udGhpcy5mb3JtIH0sCiAgICAgICAgfSk7CiAgICAgICAgLy8g6L+b5YWl5ri45oiP5LiAIO+8jOaUueWPmOatpemqpOeKtuaAge+8jOmaj+acuua4uOaIj+eVjOmdou+8jOi/m+WFpemAieaLqemimOmhtQogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX0dBTUVfU1RFUCIsIHN0YXJ0VmFsdWUpOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX1FVRVNfU1RFUCIsIDEpOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcGVyc3BlY3RpdmVTY2VuYXJpb1N0dWR5Iik7CiAgICAgIH0pOwogICAgfSwKICAgIGNoZWNrUmFkaW8oaXRlbSwgdGFibGVpbmRleCwga2V5KSB7CiAgICAgIHRoaXMuJHNldCh0aGlzLmZvcm1bInRhYmxlIiArIHRhYmxlaW5kZXhdLCBrZXksIGl0ZW0pOwogICAgfSwKICAgIGNoYW5nZUxvYWRpbmcodmFsdWUpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdmFsdWU7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAqFA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/startQuestionnaire","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div class=\"pre-study\">\n      <p><strong>Part 1 - Pre-study Questions:</strong></p>\n      <p>\n         <strong\n          >Please indicate to what extent you agree with the following\n          statements.</strong\n        >\n      </p>\n      <p>\n        There are questions which require you to\n        <strong>select the specific answer indicated in the question</strong>.\n        If you <strong>failed to select the specific answer</strong> as required\n        in the question, your study will\n        <strong\n          >be terminated. You will not be compensated for the study.</strong\n        >\n      </p>\n    </div>\n    <div class=\"content\">\n      <a-form-model\n        ref=\"form\"\n        :model=\"form\"\n        @submit=\"handleSubmit\"\n        @submit.native.prevent\n        :labelCol=\"labelCol\"\n        :wrapperCol=\"wrapperCol\"\n      >\n        <div\n          v-for=\"(tableItem, tableIndex) in allQuestList\"\n          :key=\"tableIndex\"\n          class=\"table-wrapper\"\n        >\n          <table border=\"0\" width=\"100%\" align=\"center\">\n            <tr class=\"head\">\n              <td style=\"border-right: 1px solid #efefef\"></td>\n              <td v-for=\"headItem in tableItem.headList\" :key=\"headItem\">\n                {{ headItem }}\n              </td>\n            </tr>\n            <tr v-for=\"(item, index) in tableItem.questList\" :key=\"index\">\n              <a-form-model-item\n                :prop=\"'table' + tableIndex + '.' + item.key\"\n                :rules=\"{\n                  required: true,\n                  trigger: 'blur',\n                  message: 'please select',\n                }\"\n              >\n                <td class=\"require-radio\">\n                  {{ item.content }}\n                </td>\n              </a-form-model-item>\n              <td\n                v-for=\"(radioItem, radioIndex) in tableItem.headList\"\n                :key=\"radioItem + radioIndex\"\n              >\n                <a-radio\n                  :style=\"radioStyle\"\n                  :value=\"radioItem\"\n                  @click=\"checkRadio(radioIndex + 1, tableIndex, item.key)\"\n                  :checked=\"\n                    form['table' + tableIndex][item.key] == radioIndex + 1\n                  \"\n                />\n              </td>\n            </tr>\n          </table>\n        </div>\n      </a-form-model>\n    </div>\n    <div class=\"input-wrapper\">\n      <a-button\n        type=\"primary\"\n        shape=\"round\"\n        :disabled=\"loading\"\n        :loading=\"loading\"\n        @click=\"handleSubmit\"\n        >Next</a-button\n      >\n    </div>\n  </div>\n</template>\n<script>\nimport preventBack from \"vue-prevent-browser-back\"; //组件内单独引入\nimport { allQuestList } from \"./tool\";\nimport { getRandomValue, allGameArr } from \"../../unit/tool\";\nimport api from \"@/api/index.js\";\n\nexport default {\n  mixins: [preventBack], //注入  阻止返回上一页\n  data() {\n    return {\n      // gameGroupType: \"\",\n      allQuestList,\n      loading: false,\n      form: {\n        table0: {},\n        table1: {},\n        table2: {},\n      },\n      radioStyle: {\n        display: \"block\",\n        height: \"30px\",\n        lineHeight: \"30px\",\n      },\n      labelCol: {\n        xs: { span: 24 },\n        sm: { span: 1 },\n      },\n      wrapperCol: {\n        xs: { span: 1 },\n        sm: { span: 24 },\n      },\n    };\n  },\n  mounted() {\n    window.scrollTo(0, 0);\n    this.setGameGroupType();\n  },\n  created() {\n    this.toIndex();\n  },\n  methods: {\n    setGameGroupType() {\n      api.getIndex().then((res) => {\n        if (res.code === 200) {\n          this.$store.commit(\"SET_GAME_GROUP_TYPE\", res.data);\n          this.$store.commit(\n            \"SET_GAME_ARR_LIST\",\n            allGameArr[this.gameGroupType]\n          );\n        }\n      });\n    },\n    handleSubmit() {\n      this.$refs[\"form\"].validate((valid) => {\n        if (!valid) {\n          return;\n        }\n        this.loading = true;\n        if (this.form.table1.quest11 !== 5) {\n          this.passUser();\n          return;\n        }\n        // 获取数组中一个随机值\n        const startValue = getRandomValue(this.gameArrList);\n        console.log(this.gameArrList);\n        console.log(startValue);\n        console.log(this.allQuestionForm);\n        // 保存第一次的问卷\n        this.$store.commit(\"SET_ALL_QUESTION_FORM\", {\n          ...this.allQuestionForm,\n          startQuestionnaire: { ...this.form },\n        });\n        // 进入游戏一 ，改变步骤状态，随机游戏界面，进入选择题页\n        this.$store.commit(\"SET_GAME_STEP\", startValue);\n        this.$store.commit(\"SET_QUES_STEP\", 1);\n        this.$router.push(\"/perspectiveScenarioStudy\");\n      });\n    },\n    checkRadio(item, tableindex, key) {\n      this.$set(this.form[\"table\" + tableindex], key, item);\n    },\n    changeLoading(value) {\n      this.loading = value;\n    },\n  },\n};\n</script>\n<style lang=\"less\" scoped>\n.wrapper {\n  width: 100%;\n  overflow: auto;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  .pre-study {\n    padding: 20px 8%;\n  }\n  .content {\n    padding: 20px 8%;\n  }\n  .table-wrapper {\n    border-bottom: 2px solid #efefef;\n    padding-bottom: 20px;\n    margin-bottom: 20px;\n  }\n}\n</style>"]}]}