{"remainingRequest":"/Users/byo_0/Desktop/unity3d-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/byo_0/Desktop/unity3d-vue/src/views/index/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/byo_0/Desktop/unity3d-vue/src/views/index/index.vue","mtime":1706923579274},{"path":"/Users/byo_0/Desktop/unity3d-vue/node_modules/cache-loader/dist/cjs.js","mtime":1706926219963},{"path":"/Users/byo_0/Desktop/unity3d-vue/node_modules/babel-loader/lib/index.js","mtime":1706926220370},{"path":"/Users/byo_0/Desktop/unity3d-vue/node_modules/cache-loader/dist/cjs.js","mtime":1706926219963},{"path":"/Users/byo_0/Desktop/unity3d-vue/node_modules/vue-loader/lib/index.js","mtime":1706926220653}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgY29uc2VudCBmcm9tICIuL2NvbXBvbmVudHMvY29uc2VudC52dWUiOwppbXBvcnQgaW5zdHJ1Y3Rpb24gZnJvbSAiLi9jb21wb25lbnRzL2luc3RydWN0aW9uLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IGluc3RydWN0aW9uLCBjb25zZW50IH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZTogMSwKICAgICAgZm9yYmlkZGVuOiBmYWxzZSwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgYWN0aXZlKHZhbCkgewogICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7CiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWyJnYW1lU3RlcCIsICJhbGxRdWVzdGlvbkZvcm0iLCAiaXNQYXNzIl0pLAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuc2V0SXNQYXNzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRJc1Bhc3MoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX0lTX1BBU1MiLCBmYWxzZSk7CiAgICB9LAogICAgZ290b05leHQoKSB7CiAgICAgIGlmICh0aGlzLmFjdGl2ZSA9PT0gMSkgewogICAgICAgIHRoaXMuYWN0aXZlID0gMjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIlNFVF9BTExfUVVFU1RJT05fRk9STSIsIHsKICAgICAgICAgIHN0YXJ0VGltZTogbW9tZW50KCkuZm9ybWF0KCJZWVlZLU1NLUREIEhIOm1tOnNzIiksCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9zdGFydFF1ZXN0aW9ubmFpcmUiKTsKICAgICAgfQogICAgfSwKICAgIC8vIHVuaXR55Y+R6YCB5LqL5Lu25omn6KGMCiAgICB1bml0eVdhdGNoKG9iaikgewogICAgICBjb25zb2xlLmxvZyhvYmouZGV0YWlsKTsgLy8g6L+Z6YeM5YaZ6ZyA6KaB55qE5ZCO57utanPpgLvovpEKICAgIH0sCiAgICB1bml0eVNlbmRNZXNzYWdlKCkgewogICAgICAvKiog5Y+C5pWw77yaCiAgICAgICAqIDEuIHVuaXR55a6a5LmJ55qE5a+56LGh77yI5q+P5LiqdW5pdHnlt6XnqIvluIjllpzmrKLnmoTlkI3lrZfkuI3kuIDmoLfvvIkKICAgICAgICogMi4g6LCD55SodW5pdHnnmoTmlrnms5XlkI3lrZcKICAgICAgICogMy4gdW5pdHnmjqXmlLbnmoTlj4LmlbAKICAgICAgICovCiAgICAgIHRoaXMuJHJlZnMuaWZyYW1lLmNvbnRlbnRXaW5kb3cudW5pdHlJbnN0YW5jZS5TZW5kTWVzc2FnZSgKICAgICAgICAiV2ViSW52b2tlciIsCiAgICAgICAgIlVuaXR5X0luc2VydE5hdmlQb2ludCIsCiAgICAgICAgIui/meaYr+WPguaVsCIKICAgICAgKTsKICAgIH0sCiAgfSwKICBkZWFjdGl2YXRlZCgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJVSUNsaWNrIiwgdGhpcy51bml0eVdhdGNoKTsKICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/index","sourcesContent":["<template>\n  <div class=\"wrapper question\" v-if=\"!this.forbidden\">\n    <!-- <p>游戏嵌入界面</p> -->\n    <div class=\"process-box\" v-if=\"active === 1\"><instruction /></div>\n    <div class=\"process-box\" v-if=\"active === 2\"><consent /></div>\n    <div class=\"input-wrapper\">\n      <a-button type=\"primary\" shape=\"round\" @click=\"gotoNext\"\n        >{{ active === 2 ? \"Confirm\" : \"Proceed\" }}\n        <a-icon\n          v-if=\"active === 1\"\n          type=\"arrow-right\"\n          style=\"color: #fff !important\"\n        />\n      </a-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport moment from \"moment\";\nimport { mapGetters } from \"vuex\";\nimport consent from \"./components/consent.vue\";\nimport instruction from \"./components/instruction.vue\";\nexport default {\n  components: { instruction, consent },\n  data() {\n    return {\n      active: 1,\n      forbidden: false,\n    };\n  },\n  watch: {\n    active(val) {\n      window.scrollTo(0, 0);\n    },\n  },\n  computed: {\n    ...mapGetters([\"gameStep\", \"allQuestionForm\", \"isPass\"]),\n  },\n  mounted() {\n    this.setIsPass();\n  },\n  methods: {\n    setIsPass() {\n      this.$store.commit(\"SET_IS_PASS\", false);\n    },\n    gotoNext() {\n      if (this.active === 1) {\n        this.active = 2;\n      } else {\n        this.$store.commit(\"SET_ALL_QUESTION_FORM\", {\n          startTime: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\n        });\n        this.$router.push(\"/startQuestionnaire\");\n      }\n    },\n    // unity发送事件执行\n    unityWatch(obj) {\n      console.log(obj.detail); // 这里写需要的后续js逻辑\n    },\n    unitySendMessage() {\n      /** 参数：\n       * 1. unity定义的对象（每个unity工程师喜欢的名字不一样）\n       * 2. 调用unity的方法名字\n       * 3. unity接收的参数\n       */\n      this.$refs.iframe.contentWindow.unityInstance.SendMessage(\n        \"WebInvoker\",\n        \"Unity_InsertNaviPoint\",\n        \"这是参数\"\n      );\n    },\n  },\n  deactivated() {\n    window.removeEventListener(\"UIClick\", this.unityWatch);\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.wrapper {\n  width: 100%;\n  height: 100%;\n  .process-box {\n    width: 100%;\n    // height: 85%;\n    // border: 1px dashed #efefef;\n    display: flex;\n    justify-content: center;\n    // overflow: auto;\n    padding: 10px;\n  }\n}\n</style>"]}]}