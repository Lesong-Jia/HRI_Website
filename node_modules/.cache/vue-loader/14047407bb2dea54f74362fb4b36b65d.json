{"remainingRequest":"/Users/jialesong/Desktop/HRI_Website/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jialesong/Desktop/HRI_Website/src/views/questionnaire/components/afterGame.vue?vue&type=style&index=0&id=6ecedc3b&lang=less&scoped=true","dependencies":[{"path":"/Users/jialesong/Desktop/HRI_Website/src/views/questionnaire/components/afterGame.vue","mtime":1706923579000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/css-loader/dist/cjs.js","mtime":1706926220000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1706926220000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/postcss-loader/src/index.js","mtime":1706926220000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/less-loader/dist/cjs.js","mtime":1706926220000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/cache-loader/dist/cjs.js","mtime":1706926219000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/vue-loader/lib/index.js","mtime":1706926220000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiogewogIGZvbnQtc2l6ZTogMThweDsKICBjb2xvcjogIzczNzM3MzsKfQouc3VydmV5IHsKICBwIHsKICAgIGZvbnQtc2l6ZTogMjBweCAhaW1wb3J0YW50OwogICAgc3Ryb25nIHsKICAgICAgZm9udC1zaXplOiAyMHB4ICFpbXBvcnRhbnQ7CiAgICB9CiAgfQp9Ci5yYWRpby1jaGVjayB7CiAgYmFja2dyb3VuZDogI2VmZWZlZjsKICB3aWR0aDogNTAwcHg7CiAgcGFkZGluZzogMTBweDsKICBib3JkZXItcmFkaXVzOiA0cHg7CiAgbWFyZ2luLWJvdHRvbTogMTBweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgOjp2LWRlZXAgLmFudC1yYWRpbyB7CiAgICBkaXNwbGF5OiBub25lOwogIH0KfQoKLnJhZGlvLWFjdGl2ZSB7CiAgYmFja2dyb3VuZDogIzE4OTBmZjsKICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuMnMgZWFzZS1pbi1vdXQ7CiAgc3BhbiB7CiAgICBjb2xvcjogI2ZmZiAhaW1wb3J0YW50OwogIH0KfQoudGFibGUtd3JhcHBlciB7CiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNlZmVmZWY7CiAgcGFkZGluZy1ib3R0b206IDIwcHg7CiAgbWFyZ2luLWJvdHRvbTogMjBweDsKfQo="},{"version":3,"sources":["afterGame.vue"],"names":[],"mappings":";AAkKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"afterGame.vue","sourceRoot":"src/views/questionnaire/components","sourcesContent":["<template>\n  <div>\n    <div class=\"survey\">\n      <p>\n        <strong\n          >Please indicate to what extent you agree with the following\n          statements.</strong\n        >\n      </p>\n    </div>\n    <a-form-model\n      ref=\"form\"\n      :model=\"form\"\n      @submit=\"handleSubmit\"\n      @submit.native.prevent\n    >\n      <p class=\"line-p\"></p>\n      <div\n        v-for=\"(tableItem, tableIndex) in allQuesList\"\n        :key=\"tableIndex\"\n        class=\"table-wrapper\"\n      >\n        <table border=\"0\" width=\"100%\" align=\"center\">\n          <tr class=\"head\">\n            <td style=\"border-right: 1px solid #efefef\"></td>\n            <td v-for=\"headItem in tableItem.headList\" :key=\"headItem\">\n              {{ headItem }}\n            </td>\n          </tr>\n          <tr v-for=\"(item, index) in tableItem.questList\" :key=\"index\">\n            <a-form-model-item\n              :prop=\"'table' + tableIndex + '.' + item.key\"\n              :rules=\"\n                tableIndex === 1 && item.key === 'quest2'\n                  ? {\n                      required: true,\n                      trigger: 'blur',\n                      pattern: /.{20,}/,\n                      message: 'Please enter no less than twenty bytes',\n                    }\n                  : {\n                      required: true,\n                      trigger: 'blur',\n                      message: 'please select',\n                    }\n              \"\n            >\n              <td class=\"require-radio\">\n                {{ item.content }}\n              </td>\n            </a-form-model-item>\n            <td colspan=\"7\" v-if=\"tableIndex === 1 && item.key === 'quest2'\">\n              <a-input v-model=\"form['table' + tableIndex][item.key]\" />\n            </td>\n            <td\n              v-else\n              v-for=\"(radioItem, radioIndex) in tableItem.headList\"\n              :key=\"radioItem + radioIndex\"\n            >\n              <a-radio\n                :style=\"radioStyle\"\n                :value=\"radioItem\"\n                @click=\"checkRadio(radioIndex + 1, tableIndex, item.key)\"\n                :checked=\"\n                  form['table' + tableIndex][item.key] == radioIndex + 1\n                \"\n              />\n            </td>\n          </tr>\n        </table>\n      </div>\n    </a-form-model>\n  </div>\n</template>\n<script>\nimport { mapGetters } from \"vuex\";\nimport { afterGameQuesList } from \"../tool\";\nimport { getRandomValue } from \"../../../unit/tool\";\nexport default {\n  data() {\n    return {\n      afterGameQuesList,\n      allQuesList: [],\n      form: {\n        table0: {},\n        table1: {},\n        table2: {},\n        table3: {},\n      },\n      rulles: {},\n      radioStyle: {\n        display: \"block\",\n      },\n      ques1: \"\",\n    };\n  },\n  mounted() {\n    console.log(this.quesStep);\n    this.setGameRandom();\n  },\n  computed: {\n    patternString() {\n      return this.form.table1[\"quest2\"]?.length >= 20;\n    },\n  },\n  methods: {\n    setGameRandom() {\n      this.allQuesList = JSON.parse(JSON.stringify(this.afterGameQuesList));\n      if (this.quesStep === 3) {\n        this.allQuesList[1].questList.push({\n          key: \"questRandom\",\n          content: \"Please select ‘Somewhat agree’ for this question.\",\n        });\n        console.log(this.allQuesList);\n      }\n    },\n    handleSubmit() {\n      this.$refs[\"form\"].validate((valid) => {\n        if (!valid) {\n          return;\n        }\n        if (this.quesStep === 3 && this.form.table1.questRandom !== 5) {\n          this.passUser();\n          return;\n        }\n        let obj = { ...this.allQuestionForm };\n        let afterGameQues = JSON.parse(\n          JSON.stringify(this.allQuestionForm.afterGameQues || [])\n        );\n        afterGameQues.push({\n          gameCode: this.gameStep,\n          ...this.form,\n        });\n        obj.afterGameQues = afterGameQues;\n        this.$store.commit(\"SET_ALL_QUESTION_FORM\", {\n          ...obj,\n        });\n        this.$store.commit(\"SET_QUES_STEP\", this.quesStep + 1);\n        //随机下一个游戏\n        const nextArr = this.gameArrList.filter(\n          (item) => item !== this.gameStep\n        );\n        if (nextArr.length) {\n          const nextValue = getRandomValue(nextArr);\n          this.$store.commit(\"SET_GAME_STEP\", nextValue);\n        }\n        this.$store.commit(\"SET_GAME_ARR_LIST\", nextArr);\n        //判断是不是最后一个游戏\n        if (this.quesStep <= 4) {\n          this.$router.push(\"/gameExperience\");\n        } else {\n          this.$router.push(\"/lastQuestionnaire\");\n        }\n      });\n    },\n    checkRadio(item, tableindex, key) {\n      this.$set(this.form[\"table\" + tableindex], key, item);\n    },\n  },\n};\n</script>\n<style lang=\"less\" scoped>\n* {\n  font-size: 18px;\n  color: #737373;\n}\n.survey {\n  p {\n    font-size: 20px !important;\n    strong {\n      font-size: 20px !important;\n    }\n  }\n}\n.radio-check {\n  background: #efefef;\n  width: 500px;\n  padding: 10px;\n  border-radius: 4px;\n  margin-bottom: 10px;\n  text-align: center;\n  ::v-deep .ant-radio {\n    display: none;\n  }\n}\n\n.radio-active {\n  background: #1890ff;\n  transition: background 0.2s ease-in-out;\n  span {\n    color: #fff !important;\n  }\n}\n.table-wrapper {\n  border-bottom: 2px solid #efefef;\n  padding-bottom: 20px;\n  margin-bottom: 20px;\n}\n</style>"]}]}