{"remainingRequest":"/Users/jialesong/Desktop/HRI_Website/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jialesong/Desktop/HRI_Website/src/views/startQuestionnaire/index.vue?vue&type=style&index=0&id=601f11be&lang=less&scoped=true","dependencies":[{"path":"/Users/jialesong/Desktop/HRI_Website/src/views/startQuestionnaire/index.vue","mtime":1706923579000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/css-loader/dist/cjs.js","mtime":1706926220000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1706926220000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/postcss-loader/src/index.js","mtime":1706926220000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/less-loader/dist/cjs.js","mtime":1706926220000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/cache-loader/dist/cjs.js","mtime":1706926219000},{"path":"/Users/jialesong/Desktop/HRI_Website/node_modules/vue-loader/lib/index.js","mtime":1706926220000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci53cmFwcGVyIHsKICB3aWR0aDogMTAwJTsKICBvdmVyZmxvdzogYXV0bzsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAucHJlLXN0dWR5IHsKICAgIHBhZGRpbmc6IDIwcHggOCU7CiAgfQogIC5jb250ZW50IHsKICAgIHBhZGRpbmc6IDIwcHggOCU7CiAgfQogIC50YWJsZS13cmFwcGVyIHsKICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjZWZlZmVmOwogICAgcGFkZGluZy1ib3R0b206IDIwcHg7CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA4KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/startQuestionnaire","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div class=\"pre-study\">\n      <p><strong>Part 1 - Pre-study Questions:</strong></p>\n      <p>\n         <strong\n          >Please indicate to what extent you agree with the following\n          statements.</strong\n        >\n      </p>\n      <p>\n        There are questions which require you to\n        <strong>select the specific answer indicated in the question</strong>.\n        If you <strong>failed to select the specific answer</strong> as required\n        in the question, your study will\n        <strong\n          >be terminated. You will not be compensated for the study.</strong\n        >\n      </p>\n    </div>\n    <div class=\"content\">\n      <a-form-model\n        ref=\"form\"\n        :model=\"form\"\n        @submit=\"handleSubmit\"\n        @submit.native.prevent\n        :labelCol=\"labelCol\"\n        :wrapperCol=\"wrapperCol\"\n      >\n        <div\n          v-for=\"(tableItem, tableIndex) in allQuestList\"\n          :key=\"tableIndex\"\n          class=\"table-wrapper\"\n        >\n          <table border=\"0\" width=\"100%\" align=\"center\">\n            <tr class=\"head\">\n              <td style=\"border-right: 1px solid #efefef\"></td>\n              <td v-for=\"headItem in tableItem.headList\" :key=\"headItem\">\n                {{ headItem }}\n              </td>\n            </tr>\n            <tr v-for=\"(item, index) in tableItem.questList\" :key=\"index\">\n              <a-form-model-item\n                :prop=\"'table' + tableIndex + '.' + item.key\"\n                :rules=\"{\n                  required: true,\n                  trigger: 'blur',\n                  message: 'please select',\n                }\"\n              >\n                <td class=\"require-radio\">\n                  {{ item.content }}\n                </td>\n              </a-form-model-item>\n              <td\n                v-for=\"(radioItem, radioIndex) in tableItem.headList\"\n                :key=\"radioItem + radioIndex\"\n              >\n                <a-radio\n                  :style=\"radioStyle\"\n                  :value=\"radioItem\"\n                  @click=\"checkRadio(radioIndex + 1, tableIndex, item.key)\"\n                  :checked=\"\n                    form['table' + tableIndex][item.key] == radioIndex + 1\n                  \"\n                />\n              </td>\n            </tr>\n          </table>\n        </div>\n      </a-form-model>\n    </div>\n    <div class=\"input-wrapper\">\n      <a-button\n        type=\"primary\"\n        shape=\"round\"\n        :disabled=\"loading\"\n        :loading=\"loading\"\n        @click=\"handleSubmit\"\n        >Next</a-button\n      >\n    </div>\n  </div>\n</template>\n<script>\nimport preventBack from \"vue-prevent-browser-back\"; //组件内单独引入\nimport { allQuestList } from \"./tool\";\nimport { getRandomValue, allGameArr } from \"../../unit/tool\";\nimport api from \"@/api/index.js\";\n\nexport default {\n  mixins: [preventBack], //注入  阻止返回上一页\n  data() {\n    return {\n      // gameGroupType: \"\",\n      allQuestList,\n      loading: false,\n      form: {\n        table0: {},\n        table1: {},\n        table2: {},\n      },\n      radioStyle: {\n        display: \"block\",\n        height: \"30px\",\n        lineHeight: \"30px\",\n      },\n      labelCol: {\n        xs: { span: 24 },\n        sm: { span: 1 },\n      },\n      wrapperCol: {\n        xs: { span: 1 },\n        sm: { span: 24 },\n      },\n    };\n  },\n  mounted() {\n    window.scrollTo(0, 0);\n    this.setGameGroupType();\n  },\n  created() {\n    this.toIndex();\n  },\n  methods: {\n    setGameGroupType() {\n      api.getIndex().then((res) => {\n        if (res.code === 200) {\n          this.$store.commit(\"SET_GAME_GROUP_TYPE\", res.data);\n          this.$store.commit(\n            \"SET_GAME_ARR_LIST\",\n            allGameArr[this.gameGroupType]\n          );\n        }\n      });\n    },\n    handleSubmit() {\n      this.$refs[\"form\"].validate((valid) => {\n        if (!valid) {\n          return;\n        }\n        this.loading = true;\n        if (this.form.table1.quest11 !== 5) {\n          this.passUser();\n          return;\n        }\n        // 获取数组中一个随机值\n        const startValue = getRandomValue(this.gameArrList);\n        console.log(this.gameArrList);\n        console.log(startValue);\n        console.log(this.allQuestionForm);\n        // 保存第一次的问卷\n        this.$store.commit(\"SET_ALL_QUESTION_FORM\", {\n          ...this.allQuestionForm,\n          startQuestionnaire: { ...this.form },\n        });\n        // 进入游戏一 ，改变步骤状态，随机游戏界面，进入选择题页\n        this.$store.commit(\"SET_GAME_STEP\", startValue);\n        this.$store.commit(\"SET_QUES_STEP\", 1);\n        this.$router.push(\"/perspectiveScenarioStudy\");\n      });\n    },\n    checkRadio(item, tableindex, key) {\n      this.$set(this.form[\"table\" + tableindex], key, item);\n    },\n    changeLoading(value) {\n      this.loading = value;\n    },\n  },\n};\n</script>\n<style lang=\"less\" scoped>\n.wrapper {\n  width: 100%;\n  overflow: auto;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  .pre-study {\n    padding: 20px 8%;\n  }\n  .content {\n    padding: 20px 8%;\n  }\n  .table-wrapper {\n    border-bottom: 2px solid #efefef;\n    padding-bottom: 20px;\n    margin-bottom: 20px;\n  }\n}\n</style>"]}]}