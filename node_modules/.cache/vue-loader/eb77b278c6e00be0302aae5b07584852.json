{"remainingRequest":"/Users/byo_0/Desktop/unity3d-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/byo_0/Desktop/unity3d-vue/src/views/index/index.vue?vue&type=style&index=0&id=498142aa&lang=less&scoped=true","dependencies":[{"path":"/Users/byo_0/Desktop/unity3d-vue/src/views/index/index.vue","mtime":1706923579274},{"path":"/Users/byo_0/Desktop/unity3d-vue/node_modules/css-loader/dist/cjs.js","mtime":1706926220286},{"path":"/Users/byo_0/Desktop/unity3d-vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1706926220929},{"path":"/Users/byo_0/Desktop/unity3d-vue/node_modules/postcss-loader/src/index.js","mtime":1706926220663},{"path":"/Users/byo_0/Desktop/unity3d-vue/node_modules/less-loader/dist/cjs.js","mtime":1706926220666},{"path":"/Users/byo_0/Desktop/unity3d-vue/node_modules/cache-loader/dist/cjs.js","mtime":1706926219963},{"path":"/Users/byo_0/Desktop/unity3d-vue/node_modules/vue-loader/lib/index.js","mtime":1706926220653}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci53cmFwcGVyIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgLnByb2Nlc3MtYm94IHsKICAgIHdpZHRoOiAxMDAlOwogICAgLy8gaGVpZ2h0OiA4NSU7CiAgICAvLyBib3JkZXI6IDFweCBkYXNoZWQgI2VmZWZlZjsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIC8vIG92ZXJmbG93OiBhdXRvOwogICAgcGFkZGluZzogMTBweDsKICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/index","sourcesContent":["<template>\n  <div class=\"wrapper question\" v-if=\"!this.forbidden\">\n    <!-- <p>游戏嵌入界面</p> -->\n    <div class=\"process-box\" v-if=\"active === 1\"><instruction /></div>\n    <div class=\"process-box\" v-if=\"active === 2\"><consent /></div>\n    <div class=\"input-wrapper\">\n      <a-button type=\"primary\" shape=\"round\" @click=\"gotoNext\"\n        >{{ active === 2 ? \"Confirm\" : \"Proceed\" }}\n        <a-icon\n          v-if=\"active === 1\"\n          type=\"arrow-right\"\n          style=\"color: #fff !important\"\n        />\n      </a-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport moment from \"moment\";\nimport { mapGetters } from \"vuex\";\nimport consent from \"./components/consent.vue\";\nimport instruction from \"./components/instruction.vue\";\nexport default {\n  components: { instruction, consent },\n  data() {\n    return {\n      active: 1,\n      forbidden: false,\n    };\n  },\n  watch: {\n    active(val) {\n      window.scrollTo(0, 0);\n    },\n  },\n  computed: {\n    ...mapGetters([\"gameStep\", \"allQuestionForm\", \"isPass\"]),\n  },\n  mounted() {\n    this.setIsPass();\n  },\n  methods: {\n    setIsPass() {\n      this.$store.commit(\"SET_IS_PASS\", false);\n    },\n    gotoNext() {\n      if (this.active === 1) {\n        this.active = 2;\n      } else {\n        this.$store.commit(\"SET_ALL_QUESTION_FORM\", {\n          startTime: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\n        });\n        this.$router.push(\"/startQuestionnaire\");\n      }\n    },\n    // unity发送事件执行\n    unityWatch(obj) {\n      console.log(obj.detail); // 这里写需要的后续js逻辑\n    },\n    unitySendMessage() {\n      /** 参数：\n       * 1. unity定义的对象（每个unity工程师喜欢的名字不一样）\n       * 2. 调用unity的方法名字\n       * 3. unity接收的参数\n       */\n      this.$refs.iframe.contentWindow.unityInstance.SendMessage(\n        \"WebInvoker\",\n        \"Unity_InsertNaviPoint\",\n        \"这是参数\"\n      );\n    },\n  },\n  deactivated() {\n    window.removeEventListener(\"UIClick\", this.unityWatch);\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.wrapper {\n  width: 100%;\n  height: 100%;\n  .process-box {\n    width: 100%;\n    // height: 85%;\n    // border: 1px dashed #efefef;\n    display: flex;\n    justify-content: center;\n    // overflow: auto;\n    padding: 10px;\n  }\n}\n</style>"]}]}